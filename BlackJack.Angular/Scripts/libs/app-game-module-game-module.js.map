{"version":3,"sources":["webpack:///./src/app/game-module/game-routing.module.ts","webpack:///./src/app/game-module/game.module.ts","webpack:///./src/app/game-module/game/game.component.html","webpack:///./src/app/game-module/game/game.component.ts","webpack:///./src/app/game-module/player-output/player-output.component.html","webpack:///./src/app/game-module/player-output/player-output.component.ts","webpack:///./src/app/shared/mapping-models/game-mapping-model.ts","webpack:///./src/app/shared/mapping-models/player-mapping-model.ts","webpack:///./src/app/shared/services/round.service.ts"],"names":[],"mappings":"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","file":"app-game-module-game-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { GameComponent } from 'app/game-module/game/game.component';\r\n\r\nexport const routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: GameComponent\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [ RouterModule.forChild(routes) ],\r\n    exports: [ RouterModule ]\r\n})\r\nexport class GameRoutingModule { }","import { NgModule } from '@angular/core';\r\nimport { SharedModule } from 'app/shared/modules/shared.module';\r\nimport { GameRoutingModule } from 'app/game-module/game-routing.module';\r\n\r\nimport { GameComponent } from 'app/game-module/game/game.component';\r\nimport { PlayerOutputComponent } from 'app/game-module/player-output/player-output.component';\r\n\r\nimport { RoundService } from 'app/shared/services/round.service';\r\n\r\n@NgModule({\r\n    imports: [\r\n        GameRoutingModule,\r\n        SharedModule\r\n    ],\r\n    declarations: [\r\n        GameComponent,\r\n        PlayerOutputComponent\r\n    ],\r\n    providers: [\r\n        RoundService\r\n    ]\r\n})\r\nexport class GameModule { }\r\n","module.exports = \"<div class=\\\"row row-flex\\\">\\r\\n    <div class=\\\"col-lg-4 col-md-4 col-sm-4 col-xs-12 well\\\">\\r\\n        <h4><span class=\\\"label label-danger\\\">Dealer</span></h4>\\r\\n        <app-player-output [cards]=\\\"game.dealer.cards\\\" [name]=\\\"game.dealer.name\\\" [cardScore]=\\\"game.dealer.cardScore\\\"></app-player-output>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"col-lg-8 col-md-8 col-sm-8 col-xs-12 well\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-lg-6 col-md-6 col-sm-6 col-xs-12\\\">\\r\\n                <h4><span class=\\\"label label-primary\\\">Human</span></h4>\\r\\n                <app-player-output [cards]=\\\"game.human.cards\\\" [name]=\\\"game.human.name\\\" [cardScore]=\\\"game.human.cardScore\\\"></app-player-output>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-lg-6 col-md-6 col-sm-6 col-xs-12\\\">\\r\\n                <div *ngIf=\\\"takeCard\\\">\\r\\n                    <button class=\\\"btn btn-primary\\\" (click)=\\\"onTakeCard()\\\">Take card</button>\\r\\n                    <button class=\\\"btn btn-primary\\\" (click)=\\\"onContinueRound()\\\">Don't take</button>\\r\\n                </div>\\r\\n\\r\\n                <div *ngIf=\\\"endRound\\\">\\r\\n                    <p>{{game.roundResult}}</p>\\r\\n                    <button class=\\\"btn btn-primary\\\" (click)=\\\"onStartRound()\\\">End round</button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row row-flex\\\">\\r\\n    <div *ngFor=\\\"let bot of game.bots\\\" class=\\\"col-lg-2 col-md-4 col-sm-4 col-xs-6 well\\\">\\r\\n        <h4><span class=\\\"label label-default\\\">Bot</span></h4>\\r\\n        <app-player-output [cards]=\\\"bot.cards\\\" [name]=\\\"bot.name\\\" [cardScore]=\\\"bot.cardScore\\\"></app-player-output>\\r\\n    </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\nimport { RoundService } from 'app/shared/services/round.service';\r\nimport { StartService } from 'app/shared/services/start.service';\r\nimport { NewGameService } from 'app/shared/services/new-game.service';\r\n\r\nimport { StartRoundView } from 'app/shared/models/start-round.view';\r\nimport { TakeCardRoundView } from 'app/shared/models/take-card-round.view';\r\nimport { GameMappingModel } from 'app/shared/mapping-models/game-mapping-model';\r\n\r\n@Component({\r\n    selector: 'app-game',\r\n    templateUrl: './game.component.html'\r\n})\r\nexport class GameComponent implements OnInit {\r\n    gameId: number;\r\n    game: GameMappingModel = new GameMappingModel();\r\n    \r\n    takeCard: boolean = false;\r\n    endRound: boolean = false;\r\n\r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        private roundService: RoundService,\r\n        private startService: StartService,\r\n        private newGameService: NewGameService\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.route.params.subscribe(params => {\r\n            this.gameId = params['gameId'];\r\n\r\n            let isNewGame = this.newGameService.getIsNewGame();\r\n            if (isNewGame) {\r\n                this.onStartRound();\r\n            }\r\n\r\n            if (!isNewGame) {\r\n                this.onRestoreRound();\r\n            }\r\n        });\r\n    }\r\n    \r\n    onStartRound() {\r\n        this.roundService.startRound(this.gameId)\r\n            .subscribe(\r\n                (data: StartRoundView) => {\r\n                    this.game = this.game.deserialize(data);\r\n                    this.setGamePlay();\r\n                }\r\n            );\r\n    }\r\n\r\n    onTakeCard() {\r\n        this.roundService.takeCard(this.gameId)\r\n            .subscribe(\r\n                (data: TakeCardRoundView) => {\r\n                    this.game = this.game.deserialize(data);\r\n                    this.setGamePlay();\r\n                }\r\n            );\r\n    }\r\n\r\n    onContinueRound() {\r\n        this.roundService.endRound(this.gameId)\r\n            .subscribe(\r\n                (data: string) => {\r\n                    this.game.roundResult = data;\r\n                    this.setGamePlay();\r\n                }\r\n            );\r\n    }\r\n\r\n    onRestoreRound() {\r\n        this.roundService.restoreRound(this.gameId)\r\n            .subscribe(\r\n                (data: StartRoundView) => {\r\n                    this.game = this.game.deserialize(data);\r\n                    this.setGamePlay();\r\n                }\r\n            );\r\n    }\r\n\r\n    setGamePlay() {\r\n        if (this.game.roundResult == \"Round is in process\") {\r\n            this.endRound = false;\r\n            this.takeCard = true;\r\n        }\r\n\r\n        if (this.game.roundResult != \"Round is in process\") {\r\n            this.endRound = true;\r\n            this.takeCard = false;\r\n        }\r\n    }\r\n}\r\n","module.exports = \"<p>Name: {{name}}</p>\\r\\n<p>CardScore: {{cardScore}}</p>\\r\\n\\r\\n<p>Cards:</p>\\r\\n<ul>\\r\\n    <li *ngFor=\\\"let card of cards\\\">{{card}}</li>\\r\\n</ul>\"","import { Component } from '@angular/core';\r\nimport { Input } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-player-output',\r\n    templateUrl: './player-output.component.html'\r\n})\r\nexport class PlayerOutputComponent {\r\n    @Input() name: string;\r\n    @Input() cardScore: number;\r\n    @Input() cards: string[];\r\n}\r\n","﻿import { PlayerMappingModel } from 'app/shared/mapping-models/player-mapping-model';\r\nimport { Deserializable } from \"app/shared/interfaces/deserializable\";\r\n\r\nexport class GameMappingModel implements Deserializable {\r\n\r\n    roundResult: string;\r\n    human: PlayerMappingModel = new PlayerMappingModel();\r\n    dealer: PlayerMappingModel = new PlayerMappingModel();\r\n    bots: PlayerMappingModel[] = [];\r\n\r\n    deserialize(input: any) {\r\n\r\n        this.dealer = this.dealer.deserialize(input.Dealer);\r\n        this.human = this.human.deserialize(input.Human);\r\n\r\n        for (let iterator = 0; iterator < input.Bots.length; iterator++) {\r\n\r\n            if (this.bots[iterator] == null) {\r\n                this.bots[iterator] = new PlayerMappingModel();\r\n            }\r\n\r\n            this.bots[iterator] = this.bots[iterator].deserialize(input.Bots[iterator]);\r\n        }\r\n\r\n        this.roundResult = input.RoundResult;\r\n\r\n        return this;\r\n    }\r\n}","﻿import { Deserializable } from \"app/shared/interfaces/deserializable\";\r\n\r\nexport class PlayerMappingModel implements Deserializable {\r\n\r\n    name: string;\r\n    cardScore: number;\r\n    cards: string[];\r\n\r\n    deserialize(input: any) {\r\n\r\n        if (input.Name != null) {\r\n            this.name = input.Name;\r\n        }\r\n\r\n        this.cardScore = input.CardScore;\r\n        this.cards = input.Cards;\r\n\r\n        return this;\r\n    }\r\n}","﻿import { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class RoundService {\r\n    constructor(private httpClient: HttpClient) { }\r\n    \r\n    startRound(gameId: number) {\r\n        const options = gameId ?\r\n            { params: new HttpParams().set('gameId', gameId.toString()) } : {};\r\n\r\n        return this.httpClient.get('Round/Start', options);\r\n    }\r\n\r\n    endRound(gameId: number) {\r\n        const options = gameId ?\r\n            { params: new HttpParams().set('gameId', gameId.toString()) } : {};\r\n\r\n        return this.httpClient.get('Round/End', options);\r\n    }\r\n\r\n    takeCard(gameId: number) {\r\n        const options = gameId ?\r\n            { params: new HttpParams().set('gameId', gameId.toString()) } : {};\r\n\r\n        return this.httpClient.get('Round/TakeCard', options);\r\n    }\r\n\r\n    restoreRound(gameId: number) {\r\n        const options = gameId ?\r\n            { params: new HttpParams().set('gameId', gameId.toString()) } : {};\r\n\r\n        return this.httpClient.get('Round/Restore', options);\r\n    }\r\n}"],"sourceRoot":""}